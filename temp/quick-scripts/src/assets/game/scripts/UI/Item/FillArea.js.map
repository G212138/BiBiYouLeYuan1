{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\FillArea.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { HitTest } from \"../../../../frame/scripts/Utils/HitTest\";\r\nimport { Tools } from \"../../../../frame/scripts/Utils/Tools\";\r\nimport { EventType } from \"../../Data/EventType\";\r\nimport { EditorManager } from \"../../Manager/EditorManager\";\r\nimport { SoundConfig } from \"./SoundConfig\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class FillArea extends cc.Component {\r\n    @property(cc.Node)\r\n    private highlight: cc.Node = null;\r\n    @property(cc.Integer)\r\n    private index: number = 0;\r\n\r\n    onLoad() {\r\n        ListenerManager.on(EventType.DRAG_OPTION, this.onDragOption, this);\r\n    }\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.DRAG_OPTION, this.onDragOption, this);\r\n    }\r\n\r\n    private onDragOption(pos: cc.Vec2) {\r\n        if (!this.highlight) return;\r\n        if (EditorManager.editorData.gameIndex == 3) {\r\n            if (SyncDataManager.getSyncData().customSyncData.step == 0 && this.index == 1) {\r\n                return;\r\n            } else if (SyncDataManager.getSyncData().customSyncData.step == 1 && this.index == 0) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (HitTest.posInRect(new cc.Vec2(pos.x, pos.y), this.node)) {\r\n            this.highlight.active = true;\r\n            this.highlight.color = new cc.Color(247, 255, 29);\r\n            this.highlight.opacity = 255;\r\n        } else {\r\n            this.highlight.active = false;\r\n        }\r\n        \r\n    }\r\n\r\n    public fill(item: cc.Node) {\r\n        if (!item) return;\r\n        if (this.highlight) {\r\n            this.highlight.active = false;\r\n        }\r\n        item.parent = this.node;\r\n        if (EditorManager.editorData.gameIndex == 0) {\r\n            item.y = 33;\r\n        } else {\r\n            item.y = 0;\r\n        }\r\n        \r\n        SoundManager.playEffect(SoundConfig.soudlist[\"放置音效\"], false, false, false);\r\n\r\n        if (EditorManager.editorData.gameIndex == 3) {\r\n            Tools.playSpine(item.getChildByName(\"icon\").getChildByName(\"hp_coin2\").getComponent(sp.Skeleton), \"animation2\", false);\r\n        }        \r\n    }\r\n}\r\n"]}